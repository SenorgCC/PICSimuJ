<!DOCTYPE html>
<html lang="de" ng-app="pic">
<head>
    <meta charset="UTF-8">
    <title>PIC Simulator Anzeige</title>
    <script type="text/javascript" src="sources/angular.min.js"></script>
    <script type="text/javascript" src="sources/angularbootstrap/angular-animate.js"></script>
    <script type="text/javascript" src="sources/angularbootstrap/angular-touch.js"></script>
    <script type="text/javascript" src="sources/angularbootstrap/ui-bootstrap-tpls-1.3.2.min.js"></script>
    <script type="text/javascript" src="scripts/maincontroller.js"></script>
    <script type="text/javascript" src="scripts/BefehlsspeicherCtrl.js"></script>
    <script type="text/javascript" src="scripts/CpuCtrl.js"></script>
    <script type="text/javascript" src="scripts/RamCtrl.js"></script>
    <script type="text/javascript" src="scripts/CounterCtrl.js"></script>
    <script type="text/javascript" src="scripts/DarstellungCtrl.js"></script>
    <link rel="stylesheet" href="PicSimu.css">
    <link rel="stylesheet" href="sources/bootstrap-3.3.6-dist/css/bootstrap.min.css">
</head>
<body ng-controller="ramcontroller">


<nav class="navbar navbar-default">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">PIC Simulator 16F84</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav"> <!--Linke Seite der Navbar-->
               <li> <form class="navbar-form navbar-left" role="search">
                    <button type="submit" class="btn btn-default">Start</button>
                   <button type="submit" class="btn btn-default">Ein Schritt</button>
                   <button type="submit" class="btn btn-default">Stop</button>
                   <button type="submit" class="btn btn-default">Reset</button>
                </form></li>


            </ul>

            <ul class="nav navbar-nav navbar-right"><!--Rechte Seite der Navbar-->
                <li><a href="#">Hilfe</a></li>
            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

<div ng-controller="Befehlsspeichercontroller">
        <h2>
            Programmcode
        </h2>
        <br>
        <div class="codeanzeige">
        <input type="file" on-read-file="showContent($fileContent)" />

            <div class="fileUpload btn btn-primary">
                <span>Upload</span>
                <input type="file" class="upload" />
            </div>
<!--TODO DOM änderungen anlegen Quelle: http://geniuscarrier.com/how-to-style-a-html-file-upload-button-in-pure-css/-->

        <div ng-if="content">
            <h2>File content is:</h2>
               <pre class=".pre-scrollable"><p ng-repeat="line in content">{{line}}</p></pre>
        </div>
        </div>

        <!--<div ng-if="operations"> -->
        <!--    <pre ng-repeat="operation in operations">{{operation.zeile}} {{operation.befehl}}</pre> -->

    <div class="buttons">
        <select name="taktauswahl" ng-controller="Counter" ng-model="Takt" onchange="Instructioncounter(Takt)">
            <option selected="selected" value="Takt=2">2 MHz</option>
            <option value="{{Takt=4}}">4 MHz</option>
        </select>
        <label>{{Takt}}</label>
        <!--Test TODO Fertigbauen Quelle: https://angular-ui.github.io/bootstrap/-->

        <div ng-controller="DropdownCtrl" ng-controller="Counter">
            <!-- Single button -->
            <div class="btn-group" uib-dropdown is-open="status.isopen">
                <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
                    {{Takt}} Button dropdown <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
                    <li role="menuitem" ><a href="#" ng-click="$.scope.Takt=2">2 MHz</a></li>
                    <li role="menuitem"><a href="#">4 MHz</a></li>
                    <li role="menuitem"><a href="#">Something else here</a></li>
                </ul>
            </div>
        </div>








        <!--Ende Test-->
        <label>Laufzeitzähler</label><label>{{Laufzeit}}</label>
    </div>



         <div ng-if="content" class="ram">

            <h2>Speicherinhalt</h2>

            <table ng-if="ram" align="left" class="table table-striped">

                <tr>
                    <td>Indirect_addr</td> <td>{{Indirect_addr}}</td>
                    <td>{{Indirect_addr}}</td> <td>Indirect_addr</td>
                </tr>
                <tr>
                    <td>TMR0</td> <td>{{TMR0}}</td>
                    <td>{{OPTION_REG}}</td> <td>OPTION_REG</td>
                </tr>
                <tr>
                    <td>PCL</td> <td>{{PCL}}</td>
                    <td>{{PCL}}</td> <td>PCL</td>
                </tr>
                <tr>
                    <td>STATUS</td> <td>{{STATUS}}</td>
                    <td>{{STATUS}}</td> <td>STATUS</td>
                </tr>
                <tr>
                    <td>FSR</td> <td>{{FSR}}</td>
                    <td>{{FSR}}</td> <td>FSR</td>
                </tr>
                <tr>
                    <td>PORTA</td> <td>{{PORTA}}</td>
                    <td>{{TRISA}}</td> <td>TRISA</td>
                </tr>
                <tr>
                    <td>PORTB</td> <td>{{PORTB}}</td>
                    <td>{{TRISB}}</td> <td>TRISB</td>
                </tr>
                <tr>
                    <td>EEDATA</td>	<td>{{EEDATA}}</td>
                    <td>{{EECON1}}</td>	<td>EECON1</td>
                </tr>
                <tr>
                    <td>EEADR</td>	<td>{{EEADR}}</td>
                    <td>{{EECON2}}</td>	<td>EECON2</td>
                </tr>
                <tr>
                    <td>PCLATH</td>	<td>{{PCLATH}}</td>
                    <td>{{PCLATH}}</td>	<td>PCLATH</td>
                </tr>
                <tr>
                    <td>INTCON</td>	<td>{{INTCON}}</td>
                    <td>{{INTCON}}</td>	<td>INTCON</td>
                </tr>

            </table>

            <table ng-if="ram" class="table table-striped">

                <tr>
                    <td>{{ram[0]}}</td>	 <td>{{ram[1]}}</td>  <td>{{ram[2]}}</td>  <td>{{ram[3]}}</td>  <td>{{ram[4]}}</td>	 <td>{{ram[5]}}</td>  <td>{{ram[6]}}</td>  <td>{{ram[7]}}</td>
                </tr>
                <tr>
                    <td>{{ram[8]}}</td>  <td>{{ram[9]}}</td>  <td>{{ram[10]}}</td> <td>{{ram[11]}}</td> <td>{{ram[12]}}</td> <td>{{ram[13]}}</td> <td>{{ram[14]}}</td> <td>{{ram[15]}}</td>
                </tr>
                <tr>
                    <td>{{ram[16]}}</td> <td>{{ram[17]}}</td> <td>{{ram[18]}}</td> <td>{{ram[19]}}</td>	<td>{{ram[20]}}</td> <td>{{ram[21]}}</td> <td>{{ram[22]}}</td> <td>{{ram[23]}}</td>
                </tr>
                <tr>
                    <td>{{ram[24]}}</td> <td>{{ram[25]}}</td> <td>{{ram[26]}}</td> <td>{{ram[27]}}</td>	<td>{{ram[28]}}</td> <td>{{ram[29]}}</td> <td>{{ram[30]}}</td> <td>{{ram[31]}}</td>
                </tr>
                <tr>
                    <td>{{ram[32]}}</td> <td>{{ram[33]}}</td> <td>{{ram[34]}}</td> <td>{{ram[35]}}</td>	<td>{{ram[36]}}</td> <td>{{ram[37]}}</td> <td>{{ram[38]}}</td> <td>{{ram[39]}}</td>
                </tr>
                <tr>
                    <td>{{ram[40]}}</td> <td>{{ram[41]}}</td> <td>{{ram[42]}}</td> <td>{{ram[43]}}</td>	<td>{{ram[44]}}</td> <td>{{ram[45]}}</td> <td>{{ram[46]}}</td> <td>{{ram[47]}}</td>
                </tr>
                <tr>
                    <td>{{ram[48]}}</td> <td>{{ram[49]}}</td> <td>{{ram[50]}}</td> <td>{{ram[51]}}</td>	<td>{{ram[52]}}</td> <td>{{ram[53]}}</td> <td>{{ram[54]}}</td> <td>{{ram[55]}}</td>
                </tr>
                <tr>
                    <td>{{ram[56]}}</td> <td>{{ram[57]}}</td> <td>{{ram[58]}}</td> <td>{{ram[59]}}</td>	<td>{{ram[60]}}</td> <td>{{ram[61]}}</td> <td>{{ram[62]}}</td> <td>{{ram[63]}}</td>
                </tr>
                <tr>
                    <td>{{ram[64]}}</td> <td>{{ram[65]}}</td> <td>{{ram[66]}}</td> <td>{{ram[67]}}</td>
                </tr>

            </table>
        </div>
    </div>
    <div ng-controller="CPU" class="cpu">
        <button ng-click="callOperation('3E6F')">test</button>
        <label>DigitalCarry:{{digitalCarry}}</label>
        <label>ZeroFlag:{{zeroFlag}}</label>
        <label>CarryFlag:{{carry}}</label>
    </div>

</body>
</html>